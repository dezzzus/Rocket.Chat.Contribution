<template name="channelSettings">
	<div class="content">
		<div class="list-view channel-settings">
			<div class="title">
				<h2>{{_ "Room_Info"}}</h2>
			</div>
			<form>
				<ul class="list clearfix">
					{{#let room=getRoom}}
						{{#each toArray settings}}

							{{#if $value.canView room}}
								{{#let value=(valueOf room $key)}}
									<li class="{{$value.type}}">
										<label>{{_ $value.label}}</label>
										<div class="setting-block">
											{{#if $eq $value.type 'text'}}
												{{#if editing $key}}
													<input type="text" name="{{$key}}" value="{{value}}" class="editing" />
												{{else}}
													<span class='current-setting' data-edit="{{$key}}">{{value}}</span>
												{{/if}}
											{{/if}}

											{{#if $eq $value.type 'markdown'}}
												{{#if editing $key}}
													<input type="text" name="{{$key}}" value="{{unscape value}}" class="editing" />
												{{else}}
													<span class='current-setting' data-edit="{{$key}}">{{{RocketChatMarkdown value}}}</span>
												{{/if}}
											{{/if}}

											{{#if $eq $value.type 'select'}}
												{{#each toArray $value.options}}
													<div class="input radio">
														<input type="radio" id="{{$key}}" name="{{../$key}}" value="{{$key}}" checked="{{$eq value $key}}" />
														<label for="{{$key}}">{{_ $value}}</label>
													</div>
												{{/each}}
											{{/if}}

											{{#if $eq $value.type 'boolean'}}
												<div class="input checkbox toggle">
													<input type="checkbox" id="{{$key}}" name="{{$key}}" value="{{value}}" checked="{{$eq value true}}" />
													<label for="{{$key}}"></label>
												</div>
											{{/if}}

											{{#if $value.canEdit room}}
												{{#if editing $key}}
													<div class="buttons">
														{{#if isTextInput $value.type}}
															<button type="button" class="button cancel">
																<i class="icon-cancel"></i>
															</button>
														{{/if}}
														<button type="button" class="button primary save">
															<i class="icon-ok"></i>
														</button>
													</div>
												{{else}}
													{{#if isTextInput $value.type}}
														<button type="button" class="button edit">
															<i class="icon-pencil" data-edit="{{$key}}"></i>
														</button>
													{{/if}}
												{{/if}}
											{{/if}}
										</div>
									</li>
								{{/let}}
							{{/if}}
						{{/each}}
					{{/let}}

					{{#each channelSettings}}
						{{> Template.dynamic template=template data=data}}
					{{/each}}
				</ul>
			</form>
			{{#if canDeleteRoom}}
			<nav>
				<button class='button danger delete'><span><i class='icon-trash'></i> {{_ "Delete"}}</span></button>
			</nav>
			{{/if}}
		</div>
	</div>
</template>
